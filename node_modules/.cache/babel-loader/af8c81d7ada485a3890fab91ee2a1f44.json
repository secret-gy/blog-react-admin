{"ast":null,"code":"import \"antd/es/card/style/css\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/select/style/css\";\nimport _Select from \"antd/es/select\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/tag/style/css\";\nimport _Tag from \"antd/es/tag\";\nvar _jsxFileName = \"/Users/icegame/Desktop/do/src/pages/user/user.js\";\nimport React from \"react\";\nimport '../../api/index';\nimport { reqSearch, reqUserDataSource, reqSearchUser } from \"../../api\";\nexport default class User extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      UserDataSource: [],\n      InputValue: '',\n      SelectValue: ''\n    };\n\n    this.getUserDataSource = async () => {\n      const result = await reqUserDataSource();\n      console.log(result);\n      const UserDataSource = result.data.data.list;\n\n      if (result.data.code === 0) {\n        this.setState({\n          UserDataSource\n        });\n      }\n    };\n\n    this.searchUSer = async () => {\n      const {\n        InputValue,\n        SelectValue\n      } = this.state;\n      console.log('InputValue,SelectValue' + InputValue, SelectValue);\n      const result = await reqSearchUser(InputValue, SelectValue);\n      console.log(result);\n      const UserDataSource = result.data.data.list;\n\n      if (result.data.code === 0) {\n        this.setState({\n          UserDataSource\n        });\n      }\n    };\n  }\n\n  componentWillMount() {\n    this.columns = [{\n      title: '用户名',\n      dataIndex: 'name'\n    }, {\n      title: '邮箱',\n      dataIndex: 'email'\n    }, {\n      title: '手机',\n      dataIndex: 'phone'\n    }, {\n      title: '个人介绍',\n      dataIndex: 'introduce'\n    }, {\n      title: '类型',\n      dataIndex: 'type',\n      render: tags => /*#__PURE__*/React.createElement(React.Fragment, null, tags.map(tag => {\n        let color = tag.length > 5 ? 'geekblue' : 'green';\n\n        if (tag === 'loser') {\n          color = 'volcano';\n        }\n\n        return /*#__PURE__*/React.createElement(_Tag, {\n          color: color,\n          key: tag,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 33\n          }\n        }, tag.toUpperCase());\n      }))\n    }, {\n      title: '创建时间',\n      dataIndex: 'create_time'\n    }, {\n      title: '操作',\n      render: tags => /*#__PURE__*/React.createElement(_Button, {\n        type: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }\n      }, \"\\u5220\\u9664\")\n    }];\n    this.getUserDataSource();\n  }\n\n  render() {\n    const {\n      Option\n    } = _Select;\n    const {\n      UserDataSource\n    } = this.state;\n    const title = /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: 100\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(_Input, {\n      placeholder: \"\\u7528\\u6237\\u540D\",\n      onChange: e => {\n        this.setState({\n          InputValue: e.target.value\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(_Select, {\n      onSelect: value => {\n        this.setState({\n          SelectValue: value\n        });\n      },\n      style: {\n        width: 200,\n        margin: \"0 10px\",\n        cursor: \"pointer\"\n      },\n      placeholder: \"\\u9009\\u62E9\\u7C7B\\u578B\",\n      optionFilterProp: \"children\",\n      filterOption: (input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Option, {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }, \"\\u6240\\u6709\"), /*#__PURE__*/React.createElement(Option, {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, \"\\u7BA1\\u7406\\u5458\"), /*#__PURE__*/React.createElement(Option, {\n      value: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }, \"\\u5176\\u4ED6\\u7528\\u6237\")), /*#__PURE__*/React.createElement(_Button, {\n      onClick: this.searchUSer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, \"Search\"));\n    return /*#__PURE__*/React.createElement(_Card, {\n      title: title,\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(_Table, {\n      columns: this.columns,\n      dataSource: UserDataSource,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/icegame/Desktop/do/src/pages/user/user.js"],"names":["React","reqSearch","reqUserDataSource","reqSearchUser","User","Component","state","UserDataSource","InputValue","SelectValue","getUserDataSource","result","console","log","data","list","code","setState","searchUSer","componentWillMount","columns","title","dataIndex","render","tags","map","tag","color","length","toUpperCase","Option","width","e","target","value","margin","cursor","input","option","children","toLowerCase","indexOf"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Card, Input, Select, Button, Table,message,Tag} from 'antd';\nimport '../../api/index'\nimport {reqSearch, reqUserDataSource,reqSearchUser} from \"../../api\";\nexport default class User extends React.Component{\n\n    state = {\n        UserDataSource:[],\n        InputValue:'',\n        SelectValue:'',\n    }\n\n    getUserDataSource = async () =>{\n        const result = await reqUserDataSource()\n        console.log(result)\n        const UserDataSource = result.data.data.list\n        if (result.data.code === 0){\n            this.setState({\n                UserDataSource\n            })\n        }\n    }\n\n    searchUSer = async () =>{\n        const {InputValue,SelectValue} = this.state\n        console.log('InputValue,SelectValue'+InputValue,SelectValue)\n        const result = await reqSearchUser(InputValue,SelectValue)\n        console.log(result)\n        const UserDataSource = result.data.data.list\n        if (result.data.code === 0){\n            this.setState({\n                UserDataSource\n            })\n        }\n    }\n\n\n    componentWillMount() {\n\n         this.columns = [\n            {\n                title: '用户名',\n                dataIndex: 'name',\n\n            },\n            {\n                title: '邮箱',\n                dataIndex: 'email',\n            },\n            {\n                title: '手机',\n                dataIndex: 'phone',\n            },\n            {\n                title: '个人介绍',\n                dataIndex: 'introduce',\n            },\n            {\n                title: '类型',\n                dataIndex: 'type',\n                render: tags => (\n                    <>\n                        {tags.map(tag => {\n                            let color = tag.length > 5 ? 'geekblue' : 'green';\n                            if (tag === 'loser') {\n                                color = 'volcano';\n                            }\n                            return (\n                                <Tag color={color} key={tag}>\n                                    {tag.toUpperCase()}\n                                </Tag>\n                            );\n                        })}\n                    </>\n                ),\n            },\n            {\n                title: '创建时间',\n                dataIndex: 'create_time',\n            },\n            {\n                title: '操作',\n                render: tags => (\n                    <Button type=\"primary\">删除</Button>\n                ),\n            },\n        ];\n\n        this.getUserDataSource()\n    }\n\n    render() {\n        const { Option } = Select\n        const { UserDataSource } = this.state\n        const title = (\n            <div style={{width:100}}>\n                <Input placeholder=\"用户名\" onChange={(e) => {this.setState({InputValue:e.target.value})}}/>\n                <Select\n                    onSelect={(value => {this.setState({SelectValue:value})})}\n                    style={{ width: 200 , margin:\"0 10px\",cursor:\"pointer\"}}\n                    placeholder=\"选择类型\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) =>\n                        option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                    }\n                >\n                    <Option value=\"\">所有</Option>\n                    <Option value=\"1\">管理员</Option>\n                    <Option value=\"0\">其他用户</Option>\n                </Select>\n                <Button onClick={this.searchUSer}>Search</Button>\n            </div>\n        )\n\n        return (\n            <Card title={title} style={{ width: '100%' }}>\n                <Table columns={this.columns} dataSource={ UserDataSource } />\n            </Card>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}