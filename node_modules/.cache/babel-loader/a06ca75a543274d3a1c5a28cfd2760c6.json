{"ast":null,"code":"import \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nimport axios from 'axios';\nexport default function ajax(url, data = {}, type = 'get') {\n  return new Promise((resolve, reject) => {\n    let promis;\n\n    if (type === 'get') {\n      promis = axios.get(url, {\n        params: data\n      });\n    } else {\n      promis = axios.post(url, data);\n    }\n\n    promis.then(res => {\n      console.log(res);\n      const {\n        data\n      } = res;\n      resolve({\n        data\n      });\n    }).catch(err => {\n      _message.error('请求出错' + err.message);\n    });\n  });\n}","map":{"version":3,"sources":["/Users/icegame/Desktop/do/src/api/ajax.js"],"names":["axios","ajax","url","data","type","Promise","resolve","reject","promis","get","params","post","then","res","console","log","catch","err","error","message"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,eAAe,SAASC,IAAT,CAAeC,GAAf,EAAoBC,IAAI,GAAC,EAAzB,EAA4BC,IAAI,GAAC,KAAjC,EAAuC;AAClD,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,QAAIC,MAAJ;;AACA,QAAIJ,IAAI,KAAK,KAAb,EAAmB;AACfI,MAAAA,MAAM,GAAGR,KAAK,CAACS,GAAN,CAAUP,GAAV,EAAc;AACnBQ,QAAAA,MAAM,EAACP;AADY,OAAd,CAAT;AAGH,KAJD,MAIM;AACFK,MAAAA,MAAM,GAAGR,KAAK,CAACW,IAAN,CAAWT,GAAX,EAAeC,IAAf,CAAT;AACH;;AACDK,IAAAA,MAAM,CAACI,IAAP,CAAYC,GAAG,IAAI;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,YAAM;AAACV,QAAAA;AAAD,UAASU,GAAf;AACAP,MAAAA,OAAO,CAAC;AAACH,QAAAA;AAAD,OAAD,CAAP;AACH,KAJD,EAIGa,KAJH,CAISC,GAAG,IAAG;AACX,eAAQC,KAAR,CAAc,SAASD,GAAG,CAACE,OAA3B;AACH,KAND;AAOH,GAhBM,CAAP;AAiBH","sourcesContent":["import axios from 'axios'\nimport {message} from 'antd'\n\nexport default function ajax (url, data={},type='get'){\n    return new Promise((resolve, reject) => {\n        let promis\n        if (type === 'get'){\n            promis = axios.get(url,{\n                params:data\n            })\n        }else {\n            promis = axios.post(url,data)\n        }\n        promis.then(res => {\n            console.log(res)\n            const {data} = res\n            resolve({data})\n        }).catch(err =>{\n            message.error('请求出错' + err.message)\n        })\n    })\n}"]},"metadata":{},"sourceType":"module"}